### INSTRUCTION FOR GEMINI-CODE AGENT: PROJECT ZEPHYRINE NATIVE FRONTEND ###

CONTEXT: YOU ARE INSIDE THE CONDA ENVIRONMENT

**OBJECTIVE:** Build a high-performance, native C application (Build 2) using GTK4. This application replaces the previous Node.js frontend. It acts as the "Body" connecting to the "Brain" (Project Zephyrine Core).

**ARCHITECTURAL CONTEXT:**
- **Language:** C (Standard C11 or higher).
- **GUI Toolkit:** GTK4.
- **Build System:** CMake.
- **Networking:** libcurl (for API communication) + cJSON (for parsing).

**CORE FEATURE: DUAL MODALITY**
The application must support hot-swapping between two distinct modes via a global toggle button/shortcut:

For how the style 

1.  **MODE 1: OMS/FCS (The Avionics View)**
    -   **Style:** Brutalist, High-Contrast, "Glass Cockpit" aesthetic. NO ANIMATIONS.
    -   **Rendering:** Use `GtkDrawingArea` with Cairo for manual drawing of lines, grids, and text (mimicking SCADE-generated displays).
    -   **Data Source:** Continuous polling/stream from endpoint `/instrumentviewportdatastreamlowpriopreview`.
    -   **Visuals:** Display raw telemetry data (Strings, Ints) formatted as an Onboard Maintenance System (OMS). (This is for Zephy Hardware interface Status Display)
    -   **Reference:** Mimic how it is built in `../frontend-face-zephyrine` but strictly rendered in C/Cairo, not CSS.

2.  **MODE 2: COGNITIVE INTERFACE (The Chat View)**
    -   **Style:** Modern GTK interface, supports Animations.
    -   **Layout:** Tabbed Interface (GtkNotebook or GtkStackSidebar).
        -   *Tab A:* Interaction History (Chat View). (Reference to ../frontend-face-zephyrine)
        -   *Tab B:* Image Generation. (reference to ../frontend-face-zephyrine)
        -   *Tab C:* Knowledge Tuning. (Reference to ../frontend-face-zephyrine)
        -   *Tab D:* Settings (Collapsible/Expandable Tree). (../frontend-face-zephyrine)
    -   **Functionality:** Standard chat interface. Bubble messages, input field.

**NETWORKING & API SPECS FOR MODE 2 :**
-   **Configuration:** The application MUST REQUIRE `IP:PORT` as command-line arguments (e.g., `./zephy_gui --target 127.0.0.1:11434`). Do not hardcode localhost.
-   **Standard API:** Use standard OpenAI v1 signatures for compatibility where possible. (Reference to ../frontend-face-zephyrine and (Reference to ../backend-service))
-   **Custom Zephy Endpoints:**
    -   `POST http://<IP>:<PORT>/ZephyCortexConfig` -> To sync settings. see (../frontend-face-zephyrine) on how or what are the lists
    -   `GET http://<IP>:<PORT>/v1/chat/responsezeph` -> To check for doing standard idealist query and response. 
    -   `GET http://<IP>:<PORT>/v1/chat/notification` -> SSE incoming Message signals from Zephyrine. refer to  (Reference to ../backend-service) and (../frontend-face-zephyrine) )

**DIRECTORY MAPPING & RESOURCES:**
-   **Source:** Create `src/main.c`, `src/mode_fcs.c`, `src/mode_chat.c`, `src/network.c`.
-   **Assets:** Look at `../frontend-face-zephyrine` and it's depth for icons/fonts but do NOT import web technologies.
-   **Backend:** Do not create a backend server. Assume `../backend-service` logic is now handled by the external `IP:PORT` target (The Zephyrine Core).

**CMAKE REQUIREMENTS:**
-   Generate a `CMakeLists.txt` that finds packages: `GTK4`, `CURL`, `cJSON`.
-   Link explicitly to system libraries.

**EXECUTION:**
Write the code focusing on the `main.c` entry point (argument parsing), (but seperate Mode 1 and Mode 2 code!), the threading model (separate thread for network polling to not block GTK UI), and the skeleton for switching between Mode 1 and Mode 2.

(List all the code available in current working directory and continue based on that)
(YOU ARE NOT ALLOWED TO DELETE boilerplateinstruction.txt)

(If you need additional package, use conda install to install it and list it on the MissingPackages.txt) And DO NOT DELETE MissingPackages.txt
